<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Practice Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #1e293b 0%, #7e22ce 50%, #1e293b 100%);
            min-height: 100vh;
        }
    </style>
</head>
<body class="p-6">
    <div class="max-w-7xl mx-auto">
        <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 mb-6 border border-white/20">
            <h1 class="text-4xl font-bold text-white mb-2">DSA Practice Tracker</h1>
            <p class="text-purple-200 mb-4">January 2026 - May 2026 â€¢ 150 Days Challenge</p>
            
            <div class="flex flex-wrap gap-4 items-center justify-between mb-4">
                <div class="flex gap-6">
                    <div class="bg-white/20 rounded-lg p-3">
                        <div class="text-2xl font-bold text-white" id="statsCompleted">0/0</div>
                        <div class="text-sm text-purple-200">Problems Solved</div>
                    </div>
                    <div class="bg-white/20 rounded-lg p-3">
                        <div class="text-2xl font-bold text-white" id="statsProgress">0%</div>
                        <div class="text-sm text-purple-200">Progress</div>
                    </div>
                </div>
                
                <div class="flex gap-2">
                    <button onclick="regenerateProblems()" class="flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition">
                        <span>ðŸ”„</span> Regenerate
                    </button>
                    <button onclick="exportToCSV()" class="flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition">
                        <span>ðŸ“¥</span> Export CSV
                    </button>
                </div>
            </div>

            <div class="flex gap-2">
                <button onclick="setFilter('all')" id="filterAll" class="px-4 py-2 rounded-lg transition bg-purple-600 text-white">All Days</button>
                <button onclick="setFilter('pending')" id="filterPending" class="px-4 py-2 rounded-lg transition bg-white/20 text-purple-200">Pending</button>
                <button onclick="setFilter('completed')" id="filterCompleted" class="px-4 py-2 rounded-lg transition bg-white/20 text-purple-200">Completed</button>
            </div>
        </div>

        <div id="problemsList" class="space-y-4"></div>
    </div>

    <script>
        // Real LeetCode problems - 450 unique problems to cover 150 days
        var PROBLEM_POOL = {
            easy: [
                "Two Sum", "Palindrome Number", "Roman to Integer", "Longest Common Prefix", "Valid Parentheses",
                "Merge Two Sorted Lists", "Remove Duplicates from Sorted Array", "Remove Element", 
                "Find the Index of the First Occurrence in a String", "Search Insert Position", "Length of Last Word",
                "Plus One", "Add Binary", "Sqrt(x)", "Climbing Stairs", "Remove Duplicates from Sorted List",
                "Merge Sorted Array", "Binary Tree Inorder Traversal", "Same Tree", "Symmetric Tree",
                "Maximum Depth of Binary Tree", "Convert Sorted Array to Binary Search Tree", "Balanced Binary Tree",
                "Minimum Depth of Binary Tree", "Path Sum", "Pascal's Triangle", "Pascal's Triangle II",
                "Best Time to Buy and Sell Stock", "Valid Palindrome", "Single Number", "Linked List Cycle",
                "Binary Tree Preorder Traversal", "Binary Tree Postorder Traversal", "Intersection of Two Linked Lists",
                "Excel Sheet Column Title", "Majority Element", "Excel Sheet Column Number", "Reverse Bits",
                "Number of 1 Bits", "Happy Number", "Remove Linked List Elements", "Isomorphic Strings",
                "Reverse Linked List", "Contains Duplicate", "Contains Duplicate II", "Implement Stack using Queues",
                "Invert Binary Tree", "Summary Ranges", "Power of Two", "Implement Queue using Stacks",
                "Palindrome Linked List", "Valid Anagram", "Missing Number", "Move Zeroes", "Word Pattern",
                "Nim Game", "Range Sum Query - Immutable", "Power of Three", "Counting Bits", "Power of Four",
                "Reverse String", "Reverse Vowels of a String", "Intersection of Two Arrays",
                "Intersection of Two Arrays II", "Valid Perfect Square", "Sum of Two Integers", 
                "First Unique Character in a String", "Find the Difference", "Is Subsequence", "Binary Watch",
                "Sum of Left Leaves", "Convert a Number to Hexadecimal", "Longest Palindrome", "Fizz Buzz",
                "Third Maximum Number", "Add Strings", "Number of Segments in a String", "Arranging Coins",
                "Find All Numbers Disappeared in an Array", "Assign Cookies", "Repeated Substring Pattern",
                "Hamming Distance", "Island Perimeter", "Number Complement", "License Key Formatting",
                "Max Consecutive Ones", "Construct the Rectangle", "Keyboard Row", "Next Greater Element I",
                "Base 7", "Relative Ranks", "Perfect Number", "Detect Capital", "Fibonacci Number",
                "Reverse String II", "Diameter of Binary Tree", "Student Attendance Record I",
                "Reverse Words in a String III", "Maximum Depth of N-ary Tree", "Array Partition",
                "Binary Tree Tilt", "Reshape the Matrix", "Subtree of Another Tree", "Distribute Candies",
                "N-ary Tree Preorder Traversal", "N-ary Tree Postorder Traversal", "Longest Harmonious Subsequence",
                "Range Addition II", "Minimum Index Sum of Two Lists", "Can Place Flowers",
                "Merge Two Binary Trees", "Maximum Product of Three Numbers", "Average of Levels in Binary Tree",
                "Maximum Average Subarray I", "Set Mismatch", "Two Sum IV - Input is a BST",
                "Robot Return to Origin", "Image Smoother", "Second Minimum Node In a Binary Tree",
                "Longest Continuous Increasing Subsequence", "Valid Palindrome II", "Baseball Game",
                "Binary Number with Alternating Bits", "Count Binary Substrings", "Degree of an Array",
                "Search in a Binary Search Tree", "Kth Largest Element in a Stream", "Binary Search",
                "Design HashSet", "Design HashMap", "To Lower Case", "1-bit and 2-bit Characters",
                "Find Pivot Index", "Self Dividing Numbers", "Flood Fill", "Find Smallest Letter Greater Than Target",
                "Min Cost Climbing Stairs", "Largest Number At Least Twice of Others", "Shortest Completing Word",
                "Prime Number of Set Bits in Binary Representation", "Toeplitz Matrix", "Jewels and Stones",
                "Minimum Distance Between BST Nodes", "Rotate String", "Unique Morse Code Words",
                "Number of Lines To Write String", "Largest Triangle Area", "Most Common Word",
                "Shortest Distance to a Character", "Goat Latin", "Positions of Large Groups",
                "Flipping an Image", "Rectangle Overlap", "Backspace String Compare", "Buddy Strings",
                "Lemonade Change", "Transpose Matrix", "Binary Gap", "Leaf-Similar Trees",
                "Middle of the Linked List", "Projection Area of 3D Shapes", "Uncommon Words from Two Sentences",
                "Fair Candy Swap", "Surface Area of 3D Shapes", "Monotonic Array", "Increasing Order Search Tree"
            ],
            medium: [
                "Add Two Numbers", "Longest Substring Without Repeating Characters", "Longest Palindromic Substring",
                "Zigzag Conversion", "Reverse Integer", "String to Integer (atoi)", "Container With Most Water",
                "Integer to Roman", "3Sum", "3Sum Closest", "Letter Combinations of a Phone Number", "4Sum",
                "Remove Nth Node From End of List", "Generate Parentheses", "Swap Nodes in Pairs",
                "Divide Two Integers", "Next Permutation", "Search in Rotated Sorted Array",
                "Find First and Last Position of Element in Sorted Array", "Valid Sudoku", "Count and Say",
                "Combination Sum", "Combination Sum II", "Multiply Strings", "Jump Game II", "Permutations",
                "Permutations II", "Rotate Image", "Group Anagrams", "Pow(x, n)", "Maximum Subarray",
                "Spiral Matrix", "Jump Game", "Merge Intervals", "Insert Interval", "Spiral Matrix II",
                "Rotate List", "Unique Paths", "Unique Paths II", "Minimum Path Sum", "Simplify Path",
                "Edit Distance", "Set Matrix Zeroes", "Search a 2D Matrix", "Sort Colors", "Combinations",
                "Subsets", "Word Search", "Remove Duplicates from Sorted Array II", "Search in Rotated Sorted Array II",
                "Remove Duplicates from Sorted List II", "Partition List", "Gray Code", "Subsets II",
                "Decode Ways", "Reverse Linked List II", "Restore IP Addresses", "Unique Binary Search Trees II",
                "Unique Binary Search Trees", "Interleaving String", "Validate Binary Search Tree",
                "Binary Tree Level Order Traversal", "Binary Tree Zigzag Level Order Traversal",
                "Construct Binary Tree from Preorder and Inorder Traversal",
                "Construct Binary Tree from Inorder and Postorder Traversal",
                "Binary Tree Level Order Traversal II", "Convert Sorted List to Binary Search Tree",
                "Path Sum II", "Flatten Binary Tree to Linked List", "Populating Next Right Pointers in Each Node",
                "Populating Next Right Pointers in Each Node II", "Triangle", "Best Time to Buy and Sell Stock II",
                "Longest Consecutive Sequence", "Sum Root to Leaf Numbers", "Surrounded Regions",
                "Palindrome Partitioning", "Clone Graph", "Gas Station", "Single Number II",
                "Copy List with Random Pointer", "Word Break", "Linked List Cycle II", "Reorder List",
                "LRU Cache", "Insertion Sort List", "Sort List", "Evaluate Reverse Polish Notation",
                "Reverse Words in a String", "Maximum Product Subarray", "Find Minimum in Rotated Sorted Array",
                "Min Stack", "Find Peak Element", "Compare Version Numbers", "Fraction to Recurring Decimal",
                "Two Sum II - Input Array Is Sorted", "Factorial Trailing Zeroes", "Binary Search Tree Iterator",
                "Largest Number", "Repeated DNA Sequences", "Rotate Array", "House Robber",
                "Binary Tree Right Side View", "Number of Islands", "Bitwise AND of Numbers Range",
                "Count Primes", "Course Schedule", "Implement Trie (Prefix Tree)", "Minimum Size Subarray Sum",
                "Course Schedule II", "Design Add and Search Words Data Structure", "House Robber II",
                "Kth Largest Element in an Array", "Combination Sum III", "Maximal Square", "Rectangle Area",
                "Basic Calculator II", "Majority Element II", "Kth Smallest Element in a BST",
                "Lowest Common Ancestor of a Binary Search Tree", "Lowest Common Ancestor of a Binary Tree",
                "Delete Node in a Linked List", "Product of Array Except Self", "Search a 2D Matrix II",
                "Different Ways to Add Parentheses", "Ugly Number II", "Paint House", "H-Index", "H-Index II",
                "Paint Fence", "Perfect Squares", "Wiggle Sort", "Peeking Iterator", "Find the Duplicate Number",
                "Game of Life", "Longest Increasing Subsequence", "Range Sum Query 2D - Immutable",
                "Additive Number", "Range Sum Query - Mutable", "Best Time to Buy and Sell Stock with Cooldown",
                "Minimum Height Trees", "Super Ugly Number", "Remove Duplicate Letters",
                "Maximum Product of Word Lengths", "Bulb Switcher", "Coin Change", "Wiggle Sort II",
                "Odd Even Linked List", "Increasing Triplet Subsequence", "House Robber III", "Integer Break",
                "Top K Frequent Elements", "Design Tic-Tac-Toe", "Count Numbers with Unique Digits",
                "Largest Divisible Subset", "Sum of Two Integers", "Guess Number Higher or Lower II",
                "Wiggle Subsequence", "Combination Sum IV", "Kth Smallest Element in a Sorted Matrix",
                "Insert Delete GetRandom O(1)", "Linked List Random Node", "Shuffle an Array", "Mini Parser",
                "Lexicographical Numbers", "Elimination Game", "UTF-8 Validation", "Decode String",
                "Longest Substring with At Least K Repeating Characters", "Rotate Function", "Integer Replacement",
                "Random Pick Index", "Evaluate Division", "Nth Digit", "Remove K Digits",
                "Queue Reconstruction by Height", "Arithmetic Slices", "Partition Equal Subset Sum",
                "Pacific Atlantic Water Flow", "Battleships in a Board", "Maximum XOR of Two Numbers in an Array",
                "Reconstruct Original Digits from English", "Longest Repeating Character Replacement",
                "N-ary Tree Level Order Traversal", "Flatten a Multilevel Doubly Linked List",
                "Minimum Genetic Mutation", "Non-overlapping Intervals", "Find Right Interval", "Path Sum III",
                "Find All Anagrams in a String", "Find All Duplicates in an Array", "String Compression",
                "Add Two Numbers II", "Number of Boomerangs", "Serialize and Deserialize BST",
                "Delete Node in a BST", "Sort Characters By Frequency",
                "Minimum Number of Arrows to Burst Balloons", "Minimum Moves to Equal Array Elements",
                "4Sum II", "132 Pattern", "Circular Array Loop",
                "Minimum Moves to Equal Array Elements II", "Matchsticks to Square", "Ones and Zeroes",
                "Heaters", "Total Hamming Distance", "Target Sum", "Diagonal Traverse",
                "Next Greater Element II", "Most Frequent Subtree Sum", "Find Bottom Left Tree Value",
                "Find Largest Value in Each Tree Row", "Longest Palindromic Subsequence", "Coin Change II",
                "Continuous Subarray Sum", "Longest Word in Dictionary through Deleting", "Contiguous Array",
                "Beautiful Arrangement", "Random Pick with Weight", "Minesweeper", "K-diff Pairs in an Array",
                "Construct Binary Tree from String", "Complex Number Multiplication",
                "Convert BST to Greater Tree", "Minimum Time Difference", "Single Element in a Sorted Array",
                "01 Matrix", "Number of Provinces", "Optimal Division", "Brick Wall",
                "Next Greater Element III", "Subarray Sum Equals K", "Array Nesting", "Permutation in String",
                "Out of Boundary Paths", "Shortest Unsorted Continuous Subarray", "Kill Process",
                "Delete Operation for Two Strings", "Fraction Addition and Subtraction", "Valid Square",
                "Construct String from Binary Tree", "Find Duplicate File in System", "Valid Triangle Number",
                "Task Scheduler", "Design Circular Queue", "Add One Row to Tree"
            ],
            hard: [
                "Median of Two Sorted Arrays", "Regular Expression Matching", "Merge k Sorted Lists",
                "Reverse Nodes in k-Group", "Substring with Concatenation of All Words",
                "Longest Valid Parentheses", "Sudoku Solver", "First Missing Positive", "Trapping Rain Water",
                "Wildcard Matching", "N-Queens", "N-Queens II", "Permutation Sequence", "Valid Number",
                "Text Justification", "Minimum Window Substring", "Largest Rectangle in Histogram",
                "Maximal Rectangle", "Scramble String", "Recover Binary Search Tree", "Distinct Subsequences",
                "Best Time to Buy and Sell Stock III", "Binary Tree Maximum Path Sum", "Word Ladder II",
                "Palindrome Partitioning II", "Candy", "Word Break II", "Max Points on a Line",
                "Find Minimum in Rotated Sorted Array II", "Dungeon Game", "Best Time to Buy and Sell Stock IV",
                "Word Search II", "Shortest Palindrome", "The Skyline Problem", "Contains Duplicate III",
                "Basic Calculator", "Number of Digit One", "Sliding Window Maximum", "Alien Dictionary",
                "Integer to English Words", "Expression Add Operators", "Find Median from Data Stream",
                "Best Meeting Point", "Serialize and Deserialize Binary Tree", "Remove Invalid Parentheses",
                "Number of Islands II", "Burst Balloons", "Count of Smaller Numbers After Self",
                "Create Maximum Number", "Count of Range Sum", "Longest Increasing Path in a Matrix",
                "Patching Array", "Self Crossing", "Palindrome Pairs", "Russian Doll Envelopes",
                "Frog Jump", "Split Array Largest Sum", "Strong Password Checker", "All O`one Data Structure",
                "LFU Cache", "Poor Pigs", "Can I Win", "Find Permutation", "Zuma Game",
                "The Maze III", "IPO", "Freedom Trail", "Super Washing Machines",
                "Smallest Good Base", "Remove Boxes", "Split Array with Equal Sum", "Contain Virus",
                "Cracking the Safe", "Minimize Max Distance to Gas Station", "Transform to Chessboard",
                "Cherry Pickup", "Network Delay Time", "Preimage Size of Factorial Zeroes Function",
                "Smallest Rotation with Highest Score", "Minimum Swaps To Make Sequences Increasing",
                "Bricks Falling When Hit", "Split Array With Same Average", "Chalkboard XOR Game",
                "Bus Routes", "Race Car", "Making A Large Island",
                "Count Unique Characters of All Substrings of a Given String", "Consecutive Numbers Sum",
                "Similar String Groups", "Shortest Path Visiting All Nodes", "Rectangle Area II",
                "K-Similar Strings", "Minimum Cost to Hire K Workers", "Shortest Subarray with Sum at Least K",
                "Shortest Path to Get All Keys", "Reachable Nodes In Subdivided Graph",
                "Nth Magical Number", "Profitable Schemes", "Super Egg Drop", "Sum of Subsequence Widths",
                "Maximum Frequency Stack", "Orderly Queue", "Stickers to Spell Word", "Minimum Number of Refueling Stops",
                "Strange Printer", "Cut Off Trees for Golf Event", "24 Game", "K Empty Slots",
                "Redundant Connection II", "Maximum Sum of 3 Non-Overlapping Subarrays",
                "Falling Squares", "Random Pick with Blacklist", "Number of Distinct Islands II",
                "Find K-th Smallest Pair Distance", "Range Module", "Max Stack",
                "Minimum Window Subsequence", "Number of Atoms", "Count Different Palindromic Subsequences",
                "My Calendar III", "Parse Lisp Expression", "Prefix and Suffix Search", "Set Intersection Size At Least Two",
                "Employee Free Time", "Special Binary String", "Couples Holding Hands", "Max Chunks To Make Sorted II",
                "Basic Calculator IV", "Basic Calculator III", "Sliding Puzzle", "Swim in Rising Water",
                "Reaching Points", "Shortest Path Visiting All Nodes", "Champagne Tower", "Loud and Rich"
            ]
        };

        var allProblems = [];
        var currentFilter = 'all';

        function generateProblems() {
            var newProblems = [];
            var startDate = new Date('2026-01-27');
            
            // Create shuffled copies of all problem pools
            var easyPool = shuffleArray([...PROBLEM_POOL.easy]);
            var mediumPool = shuffleArray([...PROBLEM_POOL.medium]);
            var hardPool = shuffleArray([...PROBLEM_POOL.hard]);
            
            var easyIndex = 0, mediumIndex = 0, hardIndex = 0;
            var usedProblems = new Set(); // Track all used problems
            
            for (var day = 1; day <= 150; day++) {
                var currentDate = new Date(startDate);
                currentDate.setDate(startDate.getDate() + day - 1);
                var dayProblems = [];
                
                if (day <= 100) {
                    // Days 1-100: 2 Easy + 1 Medium
                    // Get 2 unique easy problems
                    for (var i = 0; i < 2; i++) {
                        while (usedProblems.has(easyPool[easyIndex])) {
                            easyIndex++;
                            if (easyIndex >= easyPool.length) {
                                easyPool = shuffleArray([...PROBLEM_POOL.easy]);
                                easyIndex = 0;
                            }
                        }
                        dayProblems.push({name: easyPool[easyIndex], difficulty: 'Easy', topics: ['Array', 'DSA']});
                        usedProblems.add(easyPool[easyIndex]);
                        easyIndex++;
                    }
                    
                    // Get 1 unique medium problem
                    while (usedProblems.has(mediumPool[mediumIndex])) {
                        mediumIndex++;
                        if (mediumIndex >= mediumPool.length) {
                            mediumPool = shuffleArray([...PROBLEM_POOL.medium]);
                            mediumIndex = 0;
                        }
                    }
                    dayProblems.push({name: mediumPool[mediumIndex], difficulty: 'Medium', topics: ['Array', 'DSA']});
                    usedProblems.add(mediumPool[mediumIndex]);
                    mediumIndex++;
                } else {
                    // Days 101-150: 1 Medium + 1 Hard
                    // Get 1 unique medium problem
                    while (usedProblems.has(mediumPool[mediumIndex])) {
                        mediumIndex++;
                        if (mediumIndex >= mediumPool.length) {
                            mediumPool = shuffleArray([...PROBLEM_POOL.medium]);
                            mediumIndex = 0;
                        }
                    }
                    dayProblems.push({name: mediumPool[mediumIndex], difficulty: 'Medium', topics: ['Array', 'DSA']});
                    usedProblems.add(mediumPool[mediumIndex]);
                    mediumIndex++;
                    
                    // Get 1 unique hard problem
                    while (usedProblems.has(hardPool[hardIndex])) {
                        hardIndex++;
                        if (hardIndex >= hardPool.length) {
                            hardPool = shuffleArray([...PROBLEM_POOL.hard]);
                            hardIndex = 0;
                        }
                    }
                    dayProblems.push({name: hardPool[hardIndex], difficulty: 'Hard', topics: ['Array', 'DSA']});
                    usedProblems.add(hardPool[hardIndex]);
                    hardIndex++;
                }
                
                newProblems.push({
                    day: day,
                    date: currentDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                    problems: dayProblems,
                    completed: new Array(dayProblems.length).fill(false),
                    notes: new Array(dayProblems.length).fill('')
                });
            }
            
            return newProblems;
        }

        function shuffleArray(array) {
            var shuffled = [...array];
            for (var i = shuffled.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function saveToLocalStorage() {
            localStorage.setItem('dsaProblems', JSON.stringify(allProblems));
        }

        function loadFromLocalStorage() {
            var saved = localStorage.getItem('dsaProblems');
            if (saved) {
                allProblems = JSON.parse(saved);
            } else {
                allProblems = generateProblems();
                saveToLocalStorage();
            }
        }

        function regenerateProblems() {
            if (confirm('This will generate new problems and reset all progress. Continue?')) {
                allProblems = generateProblems();
                saveToLocalStorage();
                renderProblems();
            }
        }

        function toggleComplete(dayIndex, problemIndex) {
            allProblems[dayIndex].completed[problemIndex] = !allProblems[dayIndex].completed[problemIndex];
            saveToLocalStorage();
            renderProblems();
        }

        function updateNotes(dayIndex, problemIndex, note) {
            allProblems[dayIndex].notes[problemIndex] = note;
            saveToLocalStorage();
        }

        function setFilter(filter) {
            currentFilter = filter;
            document.getElementById('filterAll').className = 'px-4 py-2 rounded-lg transition ' + (filter === 'all' ? 'bg-purple-600 text-white' : 'bg-white/20 text-purple-200');
            document.getElementById('filterPending').className = 'px-4 py-2 rounded-lg transition ' + (filter === 'pending' ? 'bg-purple-600 text-white' : 'bg-white/20 text-purple-200');
            document.getElementById('filterCompleted').className = 'px-4 py-2 rounded-lg transition ' + (filter === 'completed' ? 'bg-purple-600 text-white' : 'bg-white/20 text-purple-200');
            renderProblems();
        }

        function exportToCSV() {
            var csv = 'Day,Date,Problem #,Problem Name,Difficulty,Status,Notes\n';
            
            allProblems.forEach(function(dayData) {
                dayData.problems.forEach(function(problem, idx) {
                    csv += dayData.day + ',' + dayData.date + ',' + (idx + 1) + ',"' + problem.name + '",' + 
                           problem.difficulty + ',' + (dayData.completed[idx] ? 'Done' : 'Pending') + ',"' + 
                           dayData.notes[idx].replace(/"/g, '""') + '"\n';
                });
            });
            
            var blob = new Blob([csv], { type: 'text/csv' });
            var url = window.URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'dsa_tracker_' + new Date().toISOString().split('T')[0] + '.csv';
            a.click();
        }

        function renderProblems() {
            var filteredProblems = allProblems.filter(function(p) {
                if (currentFilter === 'all') return true;
                if (currentFilter === 'completed') return p.completed.every(function(c) { return c; });
                if (currentFilter === 'pending') return p.completed.some(function(c) { return !c; });
                return true;
            });

            var total = allProblems.reduce(function(sum, p) { return sum + p.problems.length; }, 0);
            var completed = allProblems.reduce(function(sum, p) { 
                return sum + p.completed.filter(function(c) { return c; }).length; 
            }, 0);
            
            document.getElementById('statsCompleted').textContent = completed + '/' + total;
            document.getElementById('statsProgress').textContent = Math.round((completed / total) * 100) + '%';

            var listHTML = filteredProblems.map(function(dayData) {
                var actualDayIndex = allProblems.indexOf(dayData);
                var html = '<div class="bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 overflow-hidden">';
                html += '<div class="bg-gradient-to-r from-purple-600/30 to-pink-600/30 p-4 border-b border-white/20">';
                html += '<div class="flex justify-between items-center"><div>';
                html += '<h3 class="text-xl font-bold text-white">Day ' + dayData.day + '</h3>';
                html += '<p class="text-purple-200 text-sm">' + dayData.date + '</p></div>';
                html += '<div class="text-white text-sm">' + 
                        dayData.completed.filter(function(c) { return c; }).length + '/' + 
                        dayData.problems.length + ' Done</div></div></div>';
                html += '<div class="p-4 space-y-4">';
                
                dayData.problems.forEach(function(problem, probIndex) {
                    var diffClass = problem.difficulty === 'Easy' ? 'bg-green-500/20 text-green-300' :
                                  problem.difficulty === 'Medium' ? 'bg-yellow-500/20 text-yellow-300' :
                                  'bg-red-500/20 text-red-300';
                    
                    var checkIcon = dayData.completed[probIndex] 
                        ? '<svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="currentColor"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4" stroke="white"/></svg>'
                        : '<svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/></svg>';
                    
                    html += '<div class="bg-white/5 rounded-lg p-4 border border-white/10">';
                    html += '<div class="flex items-start gap-3">';
                    html += '<button onclick="toggleComplete(' + actualDayIndex + ', ' + probIndex + ')" class="mt-1 flex-shrink-0">' + checkIcon + '</button>';
                    html += '<div class="flex-1"><div class="flex items-center gap-2 flex-wrap mb-2">';
                    html += '<h4 class="text-lg font-semibold text-white">' + problem.name + '</h4>';
                    html += '<span class="text-xs px-2 py-1 rounded-full ' + diffClass + '">' + problem.difficulty + '</span>';
                    html += '</div>';
                    html += '<textarea placeholder="Add your notes, approach, time complexity, learnings..." ' +
                            'onblur="updateNotes(' + actualDayIndex + ', ' + probIndex + ', this.value)" ' +
                            'class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white placeholder-gray-400 ' +
                            'focus:outline-none focus:ring-2 focus:ring-purple-500 min-h-[80px]">' + 
                            dayData.notes[probIndex] + '</textarea>';
                    html += '</div></div></div>';
                });
                
                html += '</div></div>';
                return html;
            }).join('');

            document.getElementById('problemsList').innerHTML = listHTML;
        }

        loadFromLocalStorage();
        renderProblems();
    </script>
</body>
</html>
